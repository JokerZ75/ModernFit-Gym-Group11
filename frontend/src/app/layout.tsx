import type { Metadata } from "next";
import { Inter } from "next/font/google";
import "./globals.css";
import QueryClientWrapper from "./components/QueryClientWrapper";
import { AuthContext } from "./components/JWTAuth/AuthContext";

const inter = Inter({ subsets: ["latin"] });

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <QueryClientWrapper>
      <AuthContext
        authName="_auth"
        authType="cookie"
        cookieDomain={"localhost"}
        cookieSecure={false}
        cookieSameSite={true}
        cookieExpires={15}
        refresh_api_endpoint="http://localhost:5001/session/refresh"
        refreashTokenExpire={"session"}
        verify_api_endpoint="http://localhost:5001/session/verify"
        redirectTo="/"
      >
        <html lang="en">
          <body className={inter.className}>{children}</body>
        </html>
      </AuthContext>
    </QueryClientWrapper>
  );
}
